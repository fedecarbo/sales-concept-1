@import "tailwindcss";

/*
 * SALES DASHBOARD DESIGN SYSTEM
 * =============================
 *
 * Aesthetic: Warm, human, authentic - modern clay-like palette
 * Accent: Pale Slate (light, dusty blue-gray)
 * Typography: Satoshi
 *
 * Token Naming:
 *   Primitives: --color-{name}-{shade} (e.g., --color-primary-500)
 *   Semantics:  Uses CSS variables that auto-switch in dark mode
 */

/* ============================================
   DESIGN TOKENS (@theme)
   ============================================ */
@theme inline {
  /* ---------- Primary - Pale Slate (OKLCH) ---------- */
  /* Light, dusty blue-gray with a touch more vibrancy */
  --color-primary-50: oklch(0.97 0.012 250);
  --color-primary-100: oklch(0.94 0.025 250);
  --color-primary-200: oklch(0.88 0.04 248);
  --color-primary-300: oklch(0.80 0.055 246);
  --color-primary-400: oklch(0.72 0.07 244);
  --color-primary-500: oklch(0.62 0.075 242);
  --color-primary-600: oklch(0.54 0.07 240);
  --color-primary-700: oklch(0.46 0.065 238);
  --color-primary-800: oklch(0.38 0.055 236);
  --color-primary-900: oklch(0.30 0.045 234);

  /* ---------- Neutrals - Warm Stone/Clay Tones ---------- */
  --color-stone-50: oklch(0.98 0.005 80);
  --color-stone-100: oklch(0.96 0.008 75);
  --color-stone-200: oklch(0.92 0.010 70);
  --color-stone-300: oklch(0.85 0.012 65);
  --color-stone-400: oklch(0.70 0.015 60);
  --color-stone-500: oklch(0.55 0.018 55);
  --color-stone-600: oklch(0.45 0.020 50);
  --color-stone-700: oklch(0.35 0.018 45);
  --color-stone-800: oklch(0.25 0.015 40);
  --color-stone-900: oklch(0.18 0.012 35);
  --color-stone-950: oklch(0.12 0.010 30);

  /* ---------- Semantic Colors (CSS Variable References) ---------- */
  --color-background: var(--surface-base);
  --color-foreground: var(--text-primary);

  --color-surface: var(--surface-base);
  --color-surface-subtle: var(--surface-subtle);
  --color-surface-elevated: var(--surface-elevated);
  --color-surface-inset: var(--surface-inset);

  /* ---------- Typography ---------- */
  --font-sans: "Satoshi", system-ui, sans-serif;
  --font-mono: var(--font-geist-mono);

  /* ---------- Border Radius ---------- */
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  --radius-2xl: 1rem;
  --radius-full: 9999px;

  /* ---------- Shadows ---------- */
  --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.08), 0 1px 2px -1px rgb(0 0 0 / 0.08);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.08), 0 2px 4px -2px rgb(0 0 0 / 0.08);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.08), 0 4px 6px -4px rgb(0 0 0 / 0.08);

  /* ---------- Transitions ---------- */
  --duration-fast: 100ms;
  --duration-normal: 150ms;
  --duration-slow: 200ms;

  --ease-default: ease;
  --ease-out: ease-out;
}

/* ============================================
   SEMANTIC TOKEN VALUES (Light Mode)
   ============================================ */
:root {
  /* Surfaces */
  --surface-base: oklch(0.98 0.005 80);
  --surface-subtle: oklch(0.96 0.008 75);
  --surface-elevated: oklch(0.995 0.002 80);
  --surface-inset: oklch(0.94 0.010 75);

  /* Text */
  --text-primary: oklch(0.25 0.015 40);
  --text-secondary: oklch(0.55 0.018 55);
  --text-muted: oklch(0.70 0.015 60);
  --text-inverted: oklch(0.98 0.005 80);

  /* Borders */
  --border-default: oklch(0.88 0.012 70);
  --border-subtle: oklch(0.92 0.010 70 / 0.6);
  --border-strong: oklch(0.82 0.015 65);

  /* Primary soft variants */
  --primary-soft-bg: oklch(0.65 0.14 44 / 0.12);
  --primary-soft-bg-hover: oklch(0.65 0.14 44 / 0.18);
  --primary-soft-text: oklch(0.52 0.14 42);
}

/* ============================================
   SEMANTIC TOKEN VALUES (Dark Mode)
   ============================================ */
@media (prefers-color-scheme: dark) {
  :root {
    /* Surfaces - warm dark tones */
    --surface-base: oklch(0.14 0.010 35);
    --surface-subtle: oklch(0.12 0.010 30);
    --surface-elevated: oklch(0.20 0.012 38);
    --surface-inset: oklch(0.18 0.010 36 / 0.6);

    /* Text */
    --text-primary: oklch(0.94 0.006 75);
    --text-secondary: oklch(0.70 0.012 60);
    --text-muted: oklch(0.55 0.015 55);
    --text-inverted: oklch(0.20 0.012 38);

    /* Borders */
    --border-default: oklch(0.30 0.012 45);
    --border-subtle: oklch(0.25 0.010 40 / 0.5);
    --border-strong: oklch(0.40 0.015 50);

    /* Primary soft variants */
    --primary-soft-bg: oklch(0.65 0.14 44 / 0.20);
    --primary-soft-bg-hover: oklch(0.65 0.14 44 / 0.28);
    --primary-soft-text: oklch(0.75 0.12 46);
  }
}

/* ============================================
   BASE STYLES
   ============================================ */
body {
  background: var(--surface-base);
  color: var(--text-primary);
  font-family: var(--font-sans);
}

/* ============================================
   REACT-GRID-LAYOUT STYLES
   ============================================ */
.react-grid-layout {
  position: relative;
  transition: height 200ms ease;
}

.react-grid-item {
  transition: all 200ms ease;
  transition-property: left, top, width, height;
}

.react-grid-item.cssTransforms {
  transition-property: transform, width, height;
}

.react-grid-item.resizing {
  transition: none;
  z-index: 1;
  will-change: width, height;
}

.react-grid-item.react-draggable-dragging {
  transition: none;
  z-index: 100;
  will-change: transform;
}

/* Enhanced drag preview - lift effect with shadow */
.react-grid-item.react-draggable-dragging > * {
  box-shadow:
    0 0 0 2px oklch(0.62 0.075 242 / 0.3),
    0 12px 40px -8px oklch(0 0 0 / 0.25),
    0 4px 12px oklch(0 0 0 / 0.1);
  transform: scale(1.02);
  transition: box-shadow 150ms ease, transform 150ms ease;
}

/* Smooth return after drop */
.react-grid-item:not(.react-draggable-dragging) > * {
  transition: box-shadow 200ms ease, transform 200ms ease;
}

.react-grid-item.dropping {
  background: oklch(0.62 0.075 242 / 0.1);
  border: 2px dashed oklch(0.62 0.075 242 / 0.5);
  border-radius: 1rem;
}

.react-grid-item.react-grid-placeholder {
  background: oklch(0.62 0.075 242 / 0.08);
  border: 2px dashed oklch(0.62 0.075 242 / 0.6);
  border-radius: 1rem;
  box-shadow:
    0 0 0 4px oklch(0.62 0.075 242 / 0.1),
    0 8px 32px oklch(0 0 0 / 0.1);
  transition-duration: 80ms;
  z-index: 2;
  user-select: none;
}

/* Custom resize handle styling */
.react-resizable-handle {
  position: absolute;
  width: 20px;
  height: 20px;
  background-repeat: no-repeat;
  background-origin: content-box;
  box-sizing: border-box;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6 6"><circle cx="3" cy="3" r="1.5" fill="oklch(0.55 0.018 55 / 0.5)"/></svg>');
  background-position: center;
  padding: 2px;
  opacity: 0;
  transition: opacity 0.15s ease;
}

.react-grid-item:hover .react-resizable-handle {
  opacity: 1;
}

.react-resizable-handle-se {
  bottom: 0;
  right: 0;
  cursor: se-resize;
}

.react-resizable-handle-sw {
  bottom: 0;
  left: 0;
  cursor: sw-resize;
}

.react-resizable-handle-ne {
  top: 0;
  right: 0;
  cursor: ne-resize;
}

.react-resizable-handle-nw {
  top: 0;
  left: 0;
  cursor: nw-resize;
}

.react-resizable-handle-n,
.react-resizable-handle-s {
  left: 50%;
  transform: translateX(-50%);
  cursor: ns-resize;
}

.react-resizable-handle-n {
  top: 0;
}

.react-resizable-handle-s {
  bottom: 0;
}

.react-resizable-handle-e,
.react-resizable-handle-w {
  top: 50%;
  transform: translateY(-50%);
  cursor: ew-resize;
}

.react-resizable-handle-e {
  right: 0;
}

.react-resizable-handle-w {
  left: 0;
}

/* Widget drag handle cursor */
.widget-drag-handle {
  cursor: grab;
}

.widget-drag-handle:active {
  cursor: grabbing;
}

/* ============================================
   WIDGET ANIMATIONS
   ============================================ */
@keyframes widgetPopIn {
  0% {
    opacity: 0;
    transform: scale(0.85) translateY(12px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}
